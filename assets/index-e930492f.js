(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const M=["loan-amount","loan-term","average-monthly-revenue"],O=["loan-amount-range","loan-term-range","average-monthly-revenue-range"],D=["company-registration-period","positive-or-neutral","regularly-every-month","number-of-employees"],V=["result-approval","result-rate","result-payment","result-overpayment"],w=["tooltip-total","tooltip-amortization","tooltip-interest"],C=["tooltip-icon","tooltip-popup"],l={},s={},v={},i={},d={},E={},$=t=>t.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}),f=(t,e)=>{for(const n of t){const a=$(n);e[a]=document.getElementById(n)}};f(M,l);f(O,s);f(D,v);f(V,i);f(w,d);f(C,E);const g=[[.1,.5],[.6,.9],[1,3.9],[4,6.4],[6.5,8.9],[9,11.4],[11.5,13.9],[14,16.4],[16.5,20]],h=[[10,10],[10,60],[85,95],[86,95],[88,95],[89,95],[91,95],[92,95],[95,95]],R=[[[37,41],[32,26]],[[37,41],[32,26]],[[20,21],[15,16]],[[20,21],[15,16]],[[19,20],[14,15]],[[19,20],[14,15]],[[19,20],[14,15]],[[19,19],[14,14]],[[19,19],[14,14]]],b=[[37.3,32.3],[37.3,32.3],[20,15],[20,15],[19.4,14.4],[19.4,14.4],[19.1,14.1],[19,14],[18.9,13.9]],k=365,z=14,F=2.17,I=1e6;function U(){l.loanAmount.value="10 000 000",l.loanTerm.value="12",l.averageMonthlyRevenue.value="10 000 000",l.loanAmount.dataset.value=l.loanAmount.value.replace(/\D/g,""),l.averageMonthlyRevenue.dataset.value=l.averageMonthlyRevenue.value.replace(/\D/g,""),s.loanTermRange.value=l.loanTerm.value,s.loanAmountRange.value=l.loanAmount.dataset.value,s.averageMonthlyRevenueRange.value=l.averageMonthlyRevenue.dataset.value}function y(t){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}).format(t)}function B(t){const e=S(),n=(t/e).toFixed(0),a=t+e;u(d.tooltipTotal,y(a)),u(i.resultPayment,y(a)),u(i.resultOverpayment,`${n}%`)}function S(){const t=Number(l.loanAmount.dataset.value),e=Number(l.loanTerm.value),n=t/e/F;return u(d.tooltipAmortization,y(n)),n}function A(t,e){const n=Number(l.loanAmount.dataset.value),a=(e[0]/12).toFixed(1),o=(e[1]/12).toFixed(1),r=a===o?`${a}%`:`${a}%-${o}%`,c=n*t/k*z;B(c),u(i.resultRate,r),u(d.tooltipInterest,y(c))}function u(t,e){t.innerText=e}function P(){const t=v.companyRegistrationPeriod.checked,e=v.positiveOrNeutral.checked,n=v.regularlyEveryMonth.checked,a=v.numberOfEmployees.checked,o=Number(l.averageMonthlyRevenue.dataset.value);if(!t||!e||!n)u(i.resultApproval,`${h[0][0]}%`),A(b[0][0],R[0][0]);else for(let r=0;r<g.length;r++){const[c,N]=g[r].map(T=>T*I),p=a?1:0;o>=c&&o<=N?(u(i.resultApproval,`${h[r][p]}%`),A(b[r][p],R[r][p])):o<g[0][0]*I&&(u(i.resultApproval,`${h[0][p]}%`),A(b[0][p],R[0][p]))}}const m=(t,e)=>{const n=t.value.replace(/\D/g,""),a=n.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ");if(n===""||Number(n)<Number(t.min)||Number(n)>Number(t.max)){t.classList.add("error"),e.type==="range"&&(e.style.setProperty("--value","0"),e.value="0");return}[t,e].forEach(r=>r.classList.remove("error")),e.type==="range"?(e.style.setProperty("--value",n),e.value=n):e.type==="text"?(e.value=a,e.dataset.value=n):e.type==="number"&&(e.value=n)};function x(t){P();const e=t.target;e!==null&&(e.type==="range"?(m(s.loanAmountRange,l.loanAmount),m(s.loanTermRange,l.loanTerm),m(s.averageMonthlyRevenueRange,l.averageMonthlyRevenue)):e.type==="number"||e.type==="text"?(m(l.loanAmount,s.loanAmountRange),m(l.loanTerm,s.loanTermRange),m(l.averageMonthlyRevenue,s.averageMonthlyRevenueRange)):e.type==="checkbox"&&P())}const L=(t,e)=>{Object.values(t).forEach(n=>{n!==null&&(e.forEach(a=>{n.addEventListener(a,x,!1)}),n.addEventListener("keydown",function(a){const o=["Delete","Backspace","ArrowLeft","ArrowRight","Tab"];a.key.match(/[^0-9]/)&&!o.includes(a.key)&&a.preventDefault()}))})},j=(t,e)=>{t!==null&&e.forEach(n=>{t.addEventListener(n,()=>{E.tooltipPopup.classList.toggle("visible")},!1)})};function K(t){for(const e of Object.values(t))if(e){e.style.setProperty("--value",e.value),e.style.setProperty("--min",e.min===""?"0":e.min),e.style.setProperty("--max",e.max===""?"100":e.max),e.style.setProperty("--value",e.value);const n=a=>{e.style.setProperty("--value",e.value),x(a)};e.addEventListener("input",n),e.addEventListener("change",n)}}(function(){U(),P(),K(s),L(l,["input","focus","paste"]),L(v,["input","change"]),j(E.tooltipIcon,["mouseenter","mouseleave"])})();
